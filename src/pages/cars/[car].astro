---
import "../../styles/global.css";
import { cars } from "../../data/cars.astro";
import { Image } from "astro:assets";
import Footer from "../../component/footer.astro";
import { ChevronLeft } from "@lucide/astro";

export async function getStaticPaths() {
  return cars.map((car) => ({
    params: { car: car.id.toString() },
    props: { car },
  }));
}

const { car } = Astro.props;
---

<div class="container mx-auto my-10">
  <div class="flex justify-between items-center">
    <a
      href="/"
      class="text-sky-900 font-medium text-sm transition-all duration-300 flex justify-center items-center border border-sky-900 rounded-full w-12 h-12 hover:bg-red-900 hover:text-white hover:border-red-900"
    >
      <ChevronLeft class="w-8 h-8 mr-1" />
    </a>
  </div>
  <div class="text-4xl font-bold mt-10 mb-5 border-l-6 border-sky-900 pl-4">
    {car.year}
    {car.brand}
    {car.model}
  </div>
  <span class="text-sm text-neutral-500"
    >{car.variant} with {car.milage} km | {car.fuelType} | {
      car.transmission
    }</span
  >
  <div class="mt-4">
    <p class="text-l font-semibold mt-4">Price: ${car.price} CAD</p>
  </div>
  <div class="mt-6 grid grid-cols-2 gap-4">
    {
      car.image.map((img: { src: string; alt: string }) => (
        <Image
          src={img.src}
          alt={img.alt}
          width={800}
          height={600}
          class="w-full h-full object-cover rounded-lg"
        />
      ))
    }
  </div>
</div>
<Footer />
